<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta http-equiv="X-UA-Compatible" content="ie=edge" />
  <title>JS For Beginners</title>
</head>

<body>
 
 
    <form id="my-form">
        <label for="name">Name:</label>
        <input type="text" id="name" />
        <label for="email">Email:</label>
        <input type="text" id="email" />
        <label for="phone_number">Phone Number:</label>
        <input type="tel" id="number" />
      <input class="btn" type="submit" value="Submit" />
      <ul id="user-list"></ul>
    </form>
  <script>
    var form = document.getElementById('my-form')
    form.addEventListener('submit', addUser)

    //add user
    function addUser(e) {
      e.preventDefault();
      // get input value
      var newUser = document.getElementById('name').value;
      var newEmail = document.getElementById('email').value;
      var newNumber = document.getElementById('number').value;
      // create new element
      var li = document.createElement('li')
      li.style.listStyleType = 'disc';
      // add id
      li.id = 'item';
      // add text node with input value
      li.appendChild(document.createTextNode(newUser + '  '))
      li.appendChild(document.createTextNode(newEmail + '  '))
      li.appendChild(document.createTextNode(newNumber + '  '))
      //get element by id
      var userList = document.getElementById('user-list')
      // push list in ul
      userList.appendChild(li);

      //add delete button 
      var deleteBtn = document.createElement('input');
      deleteBtn.type = 'button';
      deleteBtn.value = 'Delete';
      deleteBtn.addEventListener('click', function () {
        localStorage.removeItem(newEmail),
          li.remove();
      });
      li.appendChild(deleteBtn)
      var newUser =
      {
        name: newUser,
        email: newEmail,
        number: newNumber
      };
      var newUser_sri = (newEmail, JSON.stringify(newUser))
      localStorage.setItem(newEmail, newUser_sri);
      console.log(localStorage)
    }
  </script>
</body>
</html>